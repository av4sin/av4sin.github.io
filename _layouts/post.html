---
layout: default
---

<style>
.post-main {
    display: flex;
    gap: 2rem;
}

.post-content {
    flex: 1;
}

.post-sidebar {
    width: 200px;
    height: fit-content;
}

.toc-container {
    background: #f8f9fa;
    border: 1px solid #e9ecef;
    border-radius: 8px;
    padding: 1rem;
    font-size: 0.9rem;
}

.toc {
    max-height: 400px;
    overflow: hidden;
    transition: max-height 0.3s ease;
}

.toc ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.toc li {
    margin: 0.25rem 0;
}

.toc a {
    color: #495057;
    text-decoration: none;
    font-size: 0.85rem;
    line-height: 1.4;
}

.toc a:hover {
    color: #007bff;
}

.toc ul ul {
    margin-left: 1rem;
}

@media (max-width: 768px) {
    .post-main {
        flex-direction: column;
    }
    
    .post-sidebar {
        width: 100%;
        position: static;
    }
}
</style>

<article class="post-single">
    <!-- Post Header -->
    <header class="post-header">
        <div class="post-header-content">
            <div class="post-meta-top">
                {% for category in page.categories %}
                <a href="{{ site.baseurl }}/blog/categories.html#{{ category | slugify }}" class="post-category-link">
                    {{ category }}
                </a>
                {% endfor %}
            </div>
            
            <h1 class="post-title">{{ page.title }}</h1>
            
            <div class="post-meta-bottom">
                <span class="post-date">
                    <i class="far fa-calendar-alt"></i>
                    {{ page.date | date: "%d de %B, %Y" }}
                </span>
                <span class="post-reading-time">
                    <i class="far fa-clock"></i>
                    {% assign words = content | number_of_words %}
                    {% if words < 200 %}
                        1 min de lectura
                    {% else %}
                        {{ words | divided_by: 200 }} min de lectura
                    {% endif %}
                </span>
                {% if page.author %}
                <span class="post-author">
                    <i class="far fa-user"></i>
                    {{ page.author }}
                </span>
                {% endif %}
            </div>
            
            {% if page.tags.size > 0 %}
            <div class="post-tags-header">
                {% for tag in page.tags %}
                <a href="{{ site.baseurl }}/blog/tags.html#{{ tag | slugify }}" class="tag-link">
                    #{{ tag }}
                </a>
                {% endfor %}
            </div>
            {% endif %}
        </div>
    </header>

    <!-- Post Content -->
    <div class="post-main">
        <div class="post-content">
            {{ content }}
        </div>
        
        <!-- Table of Contents Sidebar -->
        <aside class="post-sidebar">
            <div class="toc-container">
                <h4>Índice</h4>
                <nav class="toc" id="toc"></nav>
            </div>
        </aside>
    </div>
        
    <!-- Post Footer -->
        <footer class="post-footer">
            <!-- Share Buttons -->
            <div class="share-section">
                <h4>Compartir este artículo</h4>
                <div class="share-buttons">
                    <a href="https://twitter.com/intent/tweet?text={{ page.title | uri_escape }}&url={{ site.url }}{{ site.baseurl }}{{ page.url }}" 
                       target="_blank" class="share-btn twitter" aria-label="Compartir en Twitter">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="https://www.linkedin.com/shareArticle?mini=true&url={{ site.url }}{{ site.baseurl }}{{ page.url }}&title={{ page.title | uri_escape }}" 
                       target="_blank" class="share-btn linkedin" aria-label="Compartir en LinkedIn">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                    <a href="https://www.facebook.com/sharer/sharer.php?u={{ site.url }}{{ site.baseurl }}{{ page.url }}" 
                       target="_blank" class="share-btn facebook" aria-label="Compartir en Facebook">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <button class="share-btn copy" onclick="copyToClipboard()" aria-label="Copiar enlace">
                        <i class="fas fa-link"></i>
                    </button>
                </div>
            </div>
            
            <!-- Author Box -->
            <div class="author-box">
                <div class="author-avatar">
                    <img src="https://github.com/{{ site.social.github }}.png" alt="{{ site.author.name }}" class="author-avatar-img">
                </div>
                <div class="author-info">
                    <h4>{{ site.author.name | default: "Autor" }}</h4>
                    <p>Informatico. Programador C/Python/Java. Maker con Raspberry Pi y Arduino.</p>
                    <div class="author-social">
                        {% if site.social.github %}
                        <a href="https://github.com/{{ site.social.github }}" target="_blank"><i class="fab fa-github"></i></a>
                        {% endif %}
                        {% if site.social.linkedin %}
                        <a href="https://linkedin.com/in/{{ site.social.linkedin }}" target="_blank"><i class="fab fa-linkedin"></i></a>
                        {% endif %}
                    </div>
                </div>
            </div>
        </footer>
        
        <!-- Post Navigation -->
        <nav class="post-navigation">
            {% if page.previous.url %}
            <a href="{{ site.baseurl }}{{ page.previous.url }}" class="post-nav-link prev">
                <span class="nav-label"><i class="fas fa-arrow-left"></i> Anterior</span>
                <span class="nav-title">{{ page.previous.title | truncate: 40 }}</span>
            </a>
            {% endif %}
            
            {% if page.next.url %}
            <a href="{{ site.baseurl }}{{ page.next.url }}" class="post-nav-link next">
                <span class="nav-label">Siguiente <i class="fas fa-arrow-right"></i></span>
                <span class="nav-title">{{ page.next.title | truncate: 40 }}</span>
            </a>
            {% endif %}
        </nav>
        
        <!-- Comments Section -->
        {% if page.comments != false and site.utterances %}
        <section class="comments-section">
            <h3><i class="fas fa-comments"></i> Comentarios</h3>
            <script src="https://utteranc.es/client.js"
                    repo="{{ site.utterances.repo }}"
                    issue-term="{{ site.utterances.issue_term | default: 'pathname' }}"
                    {% if site.utterances.label %}label="{{ site.utterances.label }}"{% endif %}
                    theme="{{ site.utterances.theme | default: 'github-dark' }}"
                    crossorigin="anonymous"
                    async>
            </script>
        </section>
        {% endif %}
    </div>
</article>

<script>
function copyToClipboard() {
    navigator.clipboard.writeText(window.location.href);
    const btn = document.querySelector('.share-btn.copy');
    btn.innerHTML = '<i class="fas fa-check"></i>';
    setTimeout(() => {
        btn.innerHTML = '<i class="fas fa-link"></i>';
    }, 2000);
}

// Table of Contents functionality
document.addEventListener('DOMContentLoaded', function() {
    const tocContainer = document.getElementById('toc');
    const headers = document.querySelectorAll('.post-content h1, .post-content h2, .post-content h3, .post-content h4, .post-content h5, .post-content h6');
    
    if (headers.length > 0) {
        const ul = document.createElement('ul');
        let currentLevel = 1;
        let currentUl = ul;
        const ulStack = [ul];
        
        headers.forEach(header => {
            const level = parseInt(header.tagName.charAt(1));
            const li = document.createElement('li');
            const a = document.createElement('a');
            a.textContent = header.textContent;
            a.href = '#' + header.id;
            li.appendChild(a);
            
            if (level > currentLevel) {
                const newUl = document.createElement('ul');
                ulStack[ulStack.length - 1].lastElementChild.appendChild(newUl);
                ulStack.push(newUl);
                currentUl = newUl;
            } else if (level < currentLevel) {
                ulStack.splice(level - 1);
                currentUl = ulStack[ulStack.length - 1];
            }
            
            currentUl.appendChild(li);
            currentLevel = level;
            
            // Add id to header if not present
            if (!header.id) {
                header.id = header.textContent.toLowerCase().replace(/[^a-z0-9]+/g, '-');
            }
        });
        
        tocContainer.appendChild(ul);
    } else {
        document.querySelector('.toc-container').style.display = 'none';
    }
});
</script>
